(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Home_pages-Payment-Payment"],{"30a3":function(t,a,i){var s=i("b2bd");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var e=i("4f06").default;e("42f7b9a0",s,!0,{sourceMap:!1,shadowMode:!1})},4151:function(t,a,i){"use strict";i.r(a);var s=i("9a29"),e=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(a,t,(function(){return s[t]}))}(n);a["default"]=e.a},5558:function(t,a,i){"use strict";var s;i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return n})),i.d(a,"a",(function(){return s}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("v-uni-view",{staticClass:"rowjcic mt100"},[i("v-uni-view",{staticClass:"fs36 fwb c222 mt20"},[t._v("￥")]),i("v-uni-view",{staticClass:"fs58 fwb c222 ml5"},[t._v(t._s(t.obj.price))])],1),i("v-uni-view",{staticClass:"w710 pb0 ml20 br20 bcfff mt118"},t._l(t.pay,(function(a,s){return i("v-uni-view",{key:s,class:[s<2?"w648 h128 borderB-f1 ml31 rowic":"w648 h128 ml31 rowic"],on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.switchtype(a.id)}}},[i("v-uni-image",{staticClass:"w40 h40  ml10",attrs:{src:a.url}}),i("v-uni-view",{staticClass:"fs30 fw400 c222 ml20"},[t._v(t._s(a.name))]),i("v-uni-view",{staticClass:"flex1"}),i("v-uni-image",{staticClass:"w34 h34 mr30",attrs:{src:t.type==a.id?"/static/home/yixuan.png":"/static/home/no_xz.png"}})],1)})),1),i("v-uni-view",{staticClass:"w630 h94 br55 rowjcic ml60 fixed bottom100",staticStyle:{"background-color":"#333"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.payments.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"fs36 fwb cfff"},[t._v("支付")])],1),t.pays?i("v-uni-view",{staticClass:"huuibeijing crowjcic",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.pays=!1}}},[i("v-uni-view",{staticClass:"w553 h371 bcfff br15 pt44",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a)}}},[i("v-uni-view",{staticClass:"tc fs36 fwb c333"},[t._v("提示")]),i("v-uni-input",{staticClass:"mt55 ml40",attrs:{type:"number","placeholder-class":"fs32 fw400 c999",placeholder:"请输入支付密码"},model:{value:t.obj.password,callback:function(a){t.$set(t.obj,"password",a)},expression:"obj.password"}}),i("v-uni-view",{staticClass:"w553 h106 mt75 rowic"},[i("v-uni-view",{staticClass:"w276 h106 rowjcic borderT-f1",staticStyle:{"border-radius":"0rpx 0rpx 15rpx 15rpx"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.quxiao.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"fs28 fw400",staticStyle:{color:"#484848"}},[t._v("取消")])],1),i("v-uni-view",{staticClass:"w276 h110 rowjcic borderT-f1",staticStyle:{"border-radius":"0rpx 0rpx 15rpx 0rpx","background-color":"#333"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.queding.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"fs28 fw400 cfff"},[t._v("确定")])],1)],1)],1)],1):t._e()],1)},n=[]},"86d2":function(t,a,i){"use strict";var s=i("30a3"),e=i.n(s);e.a},"9a29":function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{pay:[{id:3,name:"余额",url:"/static/home/img_yue.png"},{id:1,name:"微信",url:"/static/home/img_weixin.png"}],type:0,obj:{goodsId:"",payType:"",type:"",price:"",password:""},pays:!1}},onLoad:function(a){t("log",a," at pages/Home_pages/Payment/Payment.vue:77"),this.obj.type=a.type,this.obj.goodsId=a.goods_id,this.obj.price=a.price},methods:{switchtype:function(t){this.type=t},quxiao:function(){this.obj.password="",this.pays=!1},queding:function(){var a=this;if(""==this.obj.password)return this.$tools.showtt("请输入支付密码"),!1;this.obj.payType=this.type;var i=this.obj;this.$tools.axiosFromToken("POST","insertOrder",i,"加载中").then((function(i){0==i.code?(t("log","余额支付",i," at pages/Home_pages/Payment/Payment.vue:101"),a.$tools.showtt(i.msg),setTimeout((function(){uni.switchTab({url:"/pages/tabBar/index/index"})}),800)):(t("log","失败",i," at pages/Home_pages/Payment/Payment.vue:109"),a.$tools.showtt(i.msg))}))},payments:function(){var a=this;if(0==this.type)return this.$tools.showtt("请选择支付方式"),!1;if(3==this.type&&(this.pays=!0),1==this.type){this.obj.payType=this.type;var i=this.obj;this.$tools.axiosFromToken("POST","insertOrder",i,"加载中").then((function(i){0==i.code?(t("log","微信支付",i," at pages/Home_pages/Payment/Payment.vue:128"),uni.requestPayment({provider:"wxpay",orderInfo:{appid:i.data.data.appId,noncestr:i.data.data.nonceStr,package:"Sign=WXPay",partnerid:i.data.data.mchId,prepayid:i.data.data.prepayId,timestamp:i.data.data.timeStamp,sign:i.data.data.sign},success:function(t){that.$tools.showToast("支付成功"),uni.switchTab({url:"/pages/tabBar/index/index"})},fail:function(a){t("log","调起失败：",a," at pages/Home_pages/Payment/Payment.vue:147")}})):(t("log","失败",i," at pages/Home_pages/Payment/Payment.vue:151"),a.$tools.showtt(i.msg))}))}}}};a.default=i}).call(this,i("0de9")["log"])},b2bd:function(t,a,i){var s=i("24fb");a=s(!1),a.push([t.i,"uni-page-body[data-v-4968761c]{background-color:#f7f6fa}body.?%PAGE?%[data-v-4968761c]{background-color:#f7f6fa}",""]),t.exports=a},baa3:function(t,a,i){"use strict";i.r(a);var s=i("5558"),e=i("4151");for(var n in e)"default"!==n&&function(t){i.d(a,t,(function(){return e[t]}))}(n);i("86d2");var o,c=i("f0c5"),r=Object(c["a"])(e["default"],s["b"],s["c"],!1,null,"4968761c",null,!1,s["a"],o);a["default"]=r.exports}}]);